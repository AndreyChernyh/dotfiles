NO_COLOR='\e[0m'
RED='\e[0;31m'

function parse_git_branch {
  ref=$(git symbolic-ref HEAD 2> /dev/null) || return
  echo ${ref#refs/heads/}
}

if [ $(id -u) -eq 0 ];
then
  PS1="[\h \w \[$RED\]\$(parse_git_branch)\[$NO_COLOR\]]# "
else
  PS1="[\h \w \[$RED\]\$(parse_git_branch)\[$NO_COLOR\]]$ "
fi
